# Ch04 — 特徵工程

## 學習目標

- 理解「表格化時間序列」的概念——將時序問題轉為監督式學習
- 掌握滯後特徵 (lag features) 的建構與陷阱
- 學會使用 pandas_ta 計算技術指標
- 理解時間特徵的週期性編碼

## 核心觀念

**表格化轉換**：
```
時間序列:  [x₁, x₂, x₃, x₄, x₅, ...]
     ↓
監督式學習表格:
  特徵 (lag1, lag2, lag3) → 目標
  (x₁, x₂, x₃)         → x₄
  (x₂, x₃, x₄)         → x₅
  ...
```

**避免資料洩漏 (Data Leakage)**：特徵只能使用「當下及過去」的資訊，絕不能使用未來資訊。

## 範例檔案

| 檔案 | 說明 |
|------|------|
| `01_lag_features.py` | 滯後特徵、滾動窗口統計 |
| `02_technical_indicators.py` | RSI、MACD、布林通道等技術指標 |
| `03_time_features.py` | 時間週期編碼（正弦/餘弦轉換） |
| `04_feature_pipeline.py` | 整合完整特徵工程管線 |

## 練習

1. 新增「波動率」特徵（20日滾動標準差），觀察對模型的貢獻
2. 嘗試不同的滯後天數組合，用互資訊 (mutual information) 篩選
3. 將星期幾從整數改為 one-hot 編碼，比較與正弦編碼的差異
