# éŒ¯èª¤åˆ†é¡åƒè€ƒè¡¨ (Error Taxonomy)

> **ç›®çš„**: æä¾›æ¨™æº–åŒ–çš„éŒ¯èª¤åˆ†é¡èˆ‡æ¢å¾©ç­–ç•¥ï¼Œä¾›è¦æ ¼æ’°å¯«æ™‚åƒè€ƒã€‚

---

## ğŸ“‹ é€šç”¨éŒ¯èª¤åˆ†é¡

### 1. é©—è­‰éŒ¯èª¤ (Validation Errors)

| éŒ¯èª¤ä»£ç¢¼ | æè¿° | ä½¿ç”¨è€…è¨Šæ¯ | æ¢å¾©æ–¹å¼ |
|---------|------|-----------|---------|
| V001 | å¿…å¡«æ¬„ä½ç¼ºå¤± | è«‹å¡«å¯«å¿…å¡«æ¬„ä½ | é¡¯ç¤ºæ¬„ä½æ¨™ç¤º |
| V002 | æ ¼å¼ä¸æ­£ç¢º | è¼¸å…¥æ ¼å¼ä¸æ­£ç¢º | é¡¯ç¤ºæ­£ç¢ºæ ¼å¼ç¯„ä¾‹ |
| V003 | è¶…å‡ºé•·åº¦é™åˆ¶ | å…§å®¹éé•·ï¼Œè«‹ç¸®çŸ­ | é¡¯ç¤ºå­—æ•¸é™åˆ¶ |
| V004 | æ•¸å€¼è¶…å‡ºç¯„åœ | æ•¸å€¼è¶…å‡ºå…è¨±ç¯„åœ | é¡¯ç¤ºæœ‰æ•ˆç¯„åœ |
| V005 | å‹åˆ¥ä¸ç¬¦ | è³‡æ–™å‹åˆ¥ä¸æ­£ç¢º | å…§éƒ¨éŒ¯èª¤ï¼Œè¨˜éŒ„æ—¥èªŒ |

---

### 2. æ¬Šé™éŒ¯èª¤ (Authorization Errors)

| éŒ¯èª¤ä»£ç¢¼ | æè¿° | ä½¿ç”¨è€…è¨Šæ¯ | æ¢å¾©æ–¹å¼ |
|---------|------|-----------|---------|
| A001 | æœªç™»å…¥ | è«‹å…ˆç™»å…¥ | å°å‘ç™»å…¥é  |
| A002 | æ¬Šé™ä¸è¶³ | æ‚¨æ²’æœ‰æ¬Šé™åŸ·è¡Œæ­¤æ“ä½œ | è¯ç¹«ç®¡ç†å“¡ |
| A003 | Token éæœŸ | ç™»å…¥å·²éæœŸï¼Œè«‹é‡æ–°ç™»å…¥ | è‡ªå‹•åˆ·æ–°æˆ–å°å‘ç™»å…¥ |
| A004 | è³‡æºä¸å±¬æ–¼ä½¿ç”¨è€… | ç„¡æ³•å­˜å–æ­¤è³‡æº | è¿”å›åˆ—è¡¨é  |
| A005 | è§’è‰²é™åˆ¶ | æ­¤åŠŸèƒ½åƒ…é™ [è§’è‰²] ä½¿ç”¨ | å‡ç´šæ–¹æ¡ˆæˆ–è¯ç¹«ç®¡ç†å“¡ |

---

### 3. è³‡æºéŒ¯èª¤ (Resource Errors)

| éŒ¯èª¤ä»£ç¢¼ | æè¿° | ä½¿ç”¨è€…è¨Šæ¯ | æ¢å¾©æ–¹å¼ |
|---------|------|-----------|---------|
| R001 | è³‡æºä¸å­˜åœ¨ | æ‰¾ä¸åˆ°è©²è³‡æº | è¿”å›åˆ—è¡¨æˆ–é‡æ–°æ•´ç† |
| R002 | è³‡æºå·²åˆªé™¤ | æ­¤è³‡æºå·²è¢«åˆªé™¤ | è¿”å›åˆ—è¡¨ |
| R003 | è³‡æºé–å®š | è³‡æºæ­£è¢«å…¶ä»–äººç·¨è¼¯ | ç¨å¾Œé‡è©¦ |
| R004 | åç¨±é‡è¤‡ | è©²åç¨±å·²å­˜åœ¨ | ä½¿ç”¨å…¶ä»–åç¨± |
| R005 | é…é¡å·²æ»¿ | å·²é”åˆ°æ•¸é‡é™åˆ¶ | å‡ç´šæ–¹æ¡ˆæˆ–åˆªé™¤èˆŠè³‡æº |

---

### 4. ä¸¦ç™¼éŒ¯èª¤ (Concurrency Errors)

| éŒ¯èª¤ä»£ç¢¼ | æè¿° | ä½¿ç”¨è€…è¨Šæ¯ | æ¢å¾©æ–¹å¼ |
|---------|------|-----------|---------|
| C001 | æ¨‚è§€é–å®šè¡çª | è³‡æºå·²è¢«å…¶ä»–äººä¿®æ”¹ | é‡æ–°è¼‰å…¥å¾Œå†è©¦ |
| C002 | ç«¶æ…‹æ¢ä»¶ | æ“ä½œè¡çªï¼Œè«‹ç¨å¾Œé‡è©¦ | è‡ªå‹•é‡è©¦ (æœ€å¤š 3 æ¬¡) |
| C003 | æ­»é– | ç³»çµ±å¿™ç¢Œä¸­ | ç¨å¾Œé‡è©¦ |

---

### 5. ç³»çµ±éŒ¯èª¤ (System Errors)

| éŒ¯èª¤ä»£ç¢¼ | æè¿° | ä½¿ç”¨è€…è¨Šæ¯ | æ¢å¾©æ–¹å¼ |
|---------|------|-----------|---------|
| S001 | è³‡æ–™åº«é€£ç·šå¤±æ•— | ç³»çµ±æš«æ™‚ç„¡æ³•ä½¿ç”¨ | ç¨å¾Œé‡è©¦ |
| S002 | å¤–éƒ¨ API å¤±æ•— | ç¬¬ä¸‰æ–¹æœå‹™æš«æ™‚ç„¡æ³•ä½¿ç”¨ | ç¨å¾Œé‡è©¦ |
| S003 | é€¾æ™‚ | æ“ä½œé€¾æ™‚ï¼Œè«‹ç¨å¾Œé‡è©¦ | ç¨å¾Œé‡è©¦ |
| S004 | å…§éƒ¨éŒ¯èª¤ | ç™¼ç”Ÿæœªé æœŸçš„éŒ¯èª¤ | è¯ç¹«å®¢æœ |
| S005 | æœå‹™ä¸å¯ç”¨ | ç³»çµ±ç¶­è­·ä¸­ | æŸ¥çœ‹å…¬å‘Š |

---

## ğŸ¯ ä½¿ç”¨æ–¹å¼

### åœ¨ spec.md ä¸­å¼•ç”¨

```markdown
## éŒ¯èª¤åˆ†é¡

| éŒ¯èª¤ä»£ç¢¼ | æè¿° | ä½¿ç”¨è€…è¨Šæ¯ | æ¢å¾©æ–¹å¼ |
|---------|------|-----------|---------|
| V001 | ä¸»é¡Œåç¨±ç‚ºç©º | è«‹è¼¸å…¥ä¸»é¡Œåç¨± | ç„¦é»è‡³è¼¸å…¥æ¡† |
| R004 | ä¸»é¡Œåç¨±é‡è¤‡ | è©²åç¨±å·²å­˜åœ¨ï¼Œè«‹ä½¿ç”¨å…¶ä»–åç¨± | æ¸…ç©ºè¼¸å…¥æ¡† |
| A002 | ç„¡æ¬Šè¤‡è£½ä¸»é¡Œ | æ‚¨æ²’æœ‰æ¬Šé™è¤‡è£½æ­¤ä¸»é¡Œ | è¿”å›åˆ—è¡¨ |
```

### åœ¨æ¸¬è©¦ä¸­ä½¿ç”¨

```typescript
describe('ä¸»é¡Œè¤‡è£½', () => {
  it('should return R004 when name duplicates', async () => {
    const result = await copyTheme({ name: 'existing-name' });
    expect(result.error.code).toBe('R004');
    expect(result.error.message).toContain('å·²å­˜åœ¨');
  });
});
```

---

## ğŸ“š ç›¸é—œæ–‡ä»¶

- [scenario-patterns.md](./scenario-patterns.md) - BDD æƒ…å¢ƒæ¨¡å¼
- [01-spec-gate.md](../01-spec-gate.md) - Spec Gate Prompt
